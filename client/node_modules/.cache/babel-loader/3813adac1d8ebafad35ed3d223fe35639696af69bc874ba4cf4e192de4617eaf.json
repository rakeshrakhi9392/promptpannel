{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { login as loginRequest } from \"../../api\";\nimport toast from \"react-hot-toast\";\nexport const useLogin = () => {\n  _s();\n  // ye wala usestate to prevent user from clicking the log in button several time while the request is getting proccesed\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n  const login = async (email, password) => {\n    setIsLoading(true);\n    const response = await loginRequest({\n      email,\n      password\n    });\n    setIsLoading(false);\n    if (response.error) {\n      var _response$exception, _response$exception$r;\n      return toast.error(((_response$exception = response.exception) === null || _response$exception === void 0 ? void 0 : (_response$exception$r = _response$exception.response) === null || _response$exception$r === void 0 ? void 0 : _response$exception$r.data) || \"Error occured while loggin in. Please try again\");\n    }\n    const {\n      userDetails\n    } = response.data; //  server me user details hai \n    // local storage me jake save ho jaega ye response\n    localStorage.setItem(\"user\", JSON.stringify(userDetails));\n    navigate(\"/\");\n  };\n  return {\n    login,\n    isLoading\n  };\n};\n_s(useLogin, \"3u+0t5V4Ln/38WeeqvT8WzLDK14=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"names":["useState","useNavigate","login","loginRequest","toast","useLogin","_s","isLoading","setIsLoading","navigate","email","password","response","error","_response$exception","_response$exception$r","exception","data","userDetails","localStorage","setItem","JSON","stringify"],"sources":["/Users/adityasrivastava/Desktop/MostlyStream/client/src/shared/hooks/useLogin.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { login as loginRequest } from \"../../api\";\nimport toast from \"react-hot-toast\";\n\nexport const useLogin = () => {\n    // ye wala usestate to prevent user from clicking the log in button several time while the request is getting proccesed\n  const [isLoading, setIsLoading] = useState(false);\n\n  const navigate = useNavigate();\n\n  const login = async (email, password) => {\n    setIsLoading(true);\n\n    const response = await loginRequest({\n      email,\n      password,\n    });\n\n    setIsLoading(false);\n\n    if (response.error) {\n      return toast.error(\n        response.exception?.response?.data ||\n          \"Error occured while loggin in. Please try again\"\n      );\n    }\n\n    const { userDetails } = response.data; //  server me user details hai \n    // local storage me jake save ho jaega ye response\n    localStorage.setItem(\"user\", JSON.stringify(userDetails));\n\n    navigate(\"/\");\n  };\n\n  return {\n    login,\n    isLoading,\n  };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,IAAIC,YAAY,QAAQ,WAAW;AACjD,OAAOC,KAAK,MAAM,iBAAiB;AAEnC,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B;EACF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMS,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAE9B,MAAMC,KAAK,GAAG,MAAAA,CAAOQ,KAAK,EAAEC,QAAQ,KAAK;IACvCH,YAAY,CAAC,IAAI,CAAC;IAElB,MAAMI,QAAQ,GAAG,MAAMT,YAAY,CAAC;MAClCO,KAAK;MACLC;IACF,CAAC,CAAC;IAEFH,YAAY,CAAC,KAAK,CAAC;IAEnB,IAAII,QAAQ,CAACC,KAAK,EAAE;MAAA,IAAAC,mBAAA,EAAAC,qBAAA;MAClB,OAAOX,KAAK,CAACS,KAAK,CAChB,EAAAC,mBAAA,GAAAF,QAAQ,CAACI,SAAS,cAAAF,mBAAA,wBAAAC,qBAAA,GAAlBD,mBAAA,CAAoBF,QAAQ,cAAAG,qBAAA,uBAA5BA,qBAAA,CAA8BE,IAAI,KAChC,iDACJ,CAAC;IACH;IAEA,MAAM;MAAEC;IAAY,CAAC,GAAGN,QAAQ,CAACK,IAAI,CAAC,CAAC;IACvC;IACAE,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,WAAW,CAAC,CAAC;IAEzDT,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC;EAED,OAAO;IACLP,KAAK;IACLK;EACF,CAAC;AACH,CAAC;AAACD,EAAA,CAlCWD,QAAQ;EAAA,QAIFJ,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}